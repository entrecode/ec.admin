(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{109:function(e,r,t){"use strict";t.d(r,"a",(function(){return l})),t.d(r,"b",(function(){return b}));var n=t(0),a=t.n(n);function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var u=a.a.createContext({}),d=function(e){var r=a.a.useContext(u),t=r;return e&&(t="function"==typeof e?e(r):i(i({},r),e)),t},l=function(e){var r=d(e.components);return a.a.createElement(u.Provider,{value:r},e.children)},p={inlineCode:"code",wrapper:function(e){var r=e.children;return a.a.createElement(a.a.Fragment,{},r)}},m=a.a.forwardRef((function(e,r){var t=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),l=d(t),m=n,b=l["".concat(s,".").concat(m)]||l[m]||p[m]||o;return t?a.a.createElement(b,i(i({ref:r},u),{},{components:t})):a.a.createElement(b,i({ref:r},u))}));function b(e,r){var t=arguments,n=r&&r.mdxType;if("string"==typeof e||n){var o=t.length,s=new Array(o);s[0]=m;var i={};for(var c in r)hasOwnProperty.call(r,c)&&(i[c]=r[c]);i.originalType=e,i.mdxType="string"==typeof e?e:n,s[1]=i;for(var u=2;u<o;u++)s[u]=t[u];return a.a.createElement.apply(null,s)}return a.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},68:function(e,r,t){"use strict";t.r(r),t.d(r,"frontMatter",(function(){return s})),t.d(r,"metadata",(function(){return i})),t.d(r,"rightToc",(function(){return c})),t.d(r,"default",(function(){return d}));var n=t(3),a=t(7),o=(t(0),t(109)),s={id:"resource-crud",title:"Resource CRUD",slug:"/resource-crud"},i={unversionedId:"resource-crud",id:"resource-crud",isDocsHomePage:!1,title:"Resource CRUD",description:"As an alternative to useDatamanager, which is only capable of providing entries of a single datamanager's models, we could use a different approach to resolve any Resource. We can respresent any ec resource with a string and resolve it with getResource.",source:"@site/docs/resource-crud.md",slug:"/resource-crud",permalink:"/ec.admin/docs/resource-crud",editUrl:"https://github.com/entrecode/ec.admin/edit/master/doc/docs/resource-crud.md",version:"current",sidebar:"someSidebar",previous:{title:"getResource",permalink:"/ec.admin/docs/get-resource"},next:{title:"Resource Caching",permalink:"/ec.admin/docs/resource-caching"}},c=[{value:"Example",id:"example",children:[]},{value:"What&#39;s missing",id:"whats-missing",children:[]}],u={rightToc:c};function d(e){var r=e.components,t=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},u,t,{components:r,mdxType:"MDXLayout"}),Object(o.b)("p",null,"As an alternative to ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"./hooks#usedatamanager"}),"useDatamanager"),", which is only capable of providing entries of a single datamanager's models, we could use a different approach to resolve any ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://entrecode.github.io/ec.sdk/#resource"}),"Resource"),". We can respresent any ec resource with a string and resolve it with ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"./get-resource"}),"getResource"),"."),Object(o.b)("h2",{id:"example"},"Example"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"import React from 'react';\nimport { Admin, Resource, Loading, ListGuesser, EditGuesser } from 'react-admin';\nimport { useSession, themes } from '../lib';\nimport { useResources } from '../src/hooks/useResources';\n\nconst App = () => {\n  const dataProvider = useResources('stage');\n  const authProvider = useSession();\n  if (!dataProvider || !authProvider) {\n    return <Loading />;\n  }\n  return (\n    <Admin dataProvider={dataProvider} authProvider={authProvider} theme={themes.light}>\n      <Resource name=\"template\" list={ListGuesser} edit={EditGuesser} />\n      <Resource name=\"dataManager\" list={ListGuesser} edit={EditGuesser} />\n      <Resource name=\"dataManager|73538731-4ac3-4a1a-b3b5-e31d09e94d42|model\" list={ListGuesser} edit={EditGuesser} />\n      <Resource\n        name=\"dataManager|73538731-4ac3-4a1a-b3b5-e31d09e94d42|assetGroup\"\n        list={ListGuesser}\n        edit={EditGuesser}\n      />\n      <Resource\n        name=\"dataManager|73538731-4ac3-4a1a-b3b5-e31d09e94d42|assetGroup|test|dmAsset\"\n        list={ListGuesser}\n        edit={EditGuesser}\n      />\n    </Admin>\n  );\n};\n\nexport default App;\n")),Object(o.b)("p",null,'Here, we are using useResources + resource names that are a "path" of relations and ids.'),Object(o.b)("h2",{id:"whats-missing"},"What's missing"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},'Only Guesser components used so far. As all resource properties (excluding models) are static We could add List, Edit, Create and Show components for existing resources. But this can also be implemented in "user land", when needed.'),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"./resource-caching"}),"Caching")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"./resource-localization"}),"Localization")),Object(o.b)("li",{parentName:"ul"},"Entries are not available as relations (part of public api). The dataProvider should be able to accept resources like ",Object(o.b)("inlineCode",{parentName:"li"},"dataManager|2b5c50c8|model|ld_order|entry|YZQRmwDxk9"))))}d.isMDXComponent=!0}}]);