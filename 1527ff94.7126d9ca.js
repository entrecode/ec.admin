(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{101:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return d}));var n=r(0),o=r.n(n);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=o.a.createContext({}),l=function(e){var t=o.a.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},s=function(e){var t=l(e.components);return o.a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},b=o.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,i=e.parentName,p=u(e,["components","mdxType","originalType","parentName"]),s=l(r),b=n,d=s["".concat(i,".").concat(b)]||s[b]||m[b]||a;return r?o.a.createElement(d,c(c({ref:t},p),{},{components:r})):o.a.createElement(d,c({ref:t},p))}));function d(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,i=new Array(a);i[0]=b;var c={};for(var u in t)hasOwnProperty.call(t,u)&&(c[u]=t[u]);c.originalType=e,c.mdxType="string"==typeof e?e:n,i[1]=c;for(var p=2;p<a;p++)i[p]=r[p];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,r)}b.displayName="MDXCreateElement"},68:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return i})),r.d(t,"metadata",(function(){return c})),r.d(t,"rightToc",(function(){return u})),r.d(t,"default",(function(){return l}));var n=r(3),o=r(7),a=(r(0),r(101)),i={id:"custom-form",title:"Custom Form",slug:"/custom-form"},c={unversionedId:"custom-form",id:"custom-form",isDocsHomePage:!1,title:"Custom Form",description:"Similar to lists, we can replace a generic EntryEdit / EntryCreate form with a custom one.",source:"@site/docs/custom-form.md",slug:"/custom-form",permalink:"/ec.admin/docs/custom-form",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/custom-form.md",version:"current",sidebar:"someSidebar",previous:{title:"Custom List",permalink:"/ec.admin/docs/custom-list"},next:{title:"Provider Hooks",permalink:"/ec.admin/docs/provider-hooks"}},u=[{value:"Example",id:"example",children:[]},{value:"Used APIs",id:"used-apis",children:[]},{value:"Create",id:"create",children:[]}],p={rightToc:u};function l(e){var t=e.components,r=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(n.a)({},p,r,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Similar to lists, we can replace a generic EntryEdit / EntryCreate form with a custom one."),Object(a.b)("h2",{id:"example"},"Example"),Object(a.b)("p",null,"Here's an example of a custom edit component:"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"import React from 'react';\nimport { Edit, SimpleForm, Loading, TextInput } from 'react-admin';\nimport { useFields, inputProps, TypeInput } from '../lib';\n\nexport function MuffinEdit(props) {\n  const { fieldConfig } = useFields(props.resource);\n  if (!fieldConfig) {\n    return <Loading />;\n  }\n  const input = (property) => inputProps(property, fieldConfig);\n  return (\n    <Edit {...props}>\n      <SimpleForm>\n        <TextInput {...input('name')} />\n        {/* equal to <TextInput source=\"name\" /> */}\n        <TypeInput {...input('amazement_factor')} />\n      </SimpleForm>\n    </Edit>\n  );\n}\n")),Object(a.b)("p",null,"To use it, we can override the edit prop on the target ",Object(a.b)("a",Object(n.a)({parentName:"p"},{href:"https://marmelab.com/react-admin/Resource.html"}),"Resource"),":"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"<Resource name={'muffin'} {...entryCrud} edit={MuffinEdit} />\n")),Object(a.b)("h2",{id:"used-apis"},"Used APIs"),Object(a.b)("p",null,"The example uses the following ec.admin APIs:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",Object(n.a)({parentName:"li"},{href:"./helpers#typeinput"}),"TypeInput")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",Object(n.a)({parentName:"li"},{href:"./helpers#inputprops"}),"inputProps")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("a",Object(n.a)({parentName:"li"},{href:"./helpers#usefields"}),"useFields"))),Object(a.b)("p",null,'Note that the "name" field just uses a plain ',Object(a.b)("a",Object(n.a)({parentName:"p"},{href:"https://marmelab.com/react-admin/Inputs.html#textinput"}),"TextInput"),". When going that route, you have to make sure that the component can handle the field's value. The commented out version of it shows how the field would could be implemented without inputProps. If going that route, you have to check set props:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"source: field name (make sure it exists)"),Object(a.b)("li",{parentName:"ul"},"options.disabled should be true if the field is readOnly")),Object(a.b)("p",null,"Of course, the component that is used for a field can also be custom. For more info see ",Object(a.b)("a",Object(n.a)({parentName:"p"},{href:"https://marmelab.com/react-admin/Inputs.html#writing-your-own-input-component"}),"Writing Your Own Input Component"),"."),Object(a.b)("h2",{id:"create"},"Create"),Object(a.b)("p",null,"Implementing a custom create form is similar to the above example, except"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"you should get the field config from ",Object(a.b)("a",Object(n.a)({parentName:"li"},{href:"./helpers#usefieldconfig"}),"useFieldConfig")," which omits the system fields (id, created, modified, creator)."),Object(a.b)("li",{parentName:"ul"},"you have to override Resource.create instead of Resource.edit"),Object(a.b)("li",{parentName:"ul"},"When in doubt, refer to EntryCreate component.")))}l.isMDXComponent=!0}}]);